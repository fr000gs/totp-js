<!DOCTYPE html>
<html>

<head>
  <title>TOTP-js</title>
  <script src="index.js" type="module"></script>
  <script src="./dist/totp.min.js" type="module"></script>
  <style>
    html {
      font-size: 32;
      color: white;
      background-color: black;
    }
    
    button {
      border-radius: 20px;
      color: white;
      background-color: olive;
    }
  </style>
</head>

<body>
  <h3>TOTP-js</h3>
  <!--<script>

!function main() {
      var $secret = document.getElementById('secret');
      var $totp = document.getElementById('totp');
      var $ttl = document.getElementById('ttl');

      var totp = new TOTP(key);
      
      $secret.innerHTML = key;

      function refreshCode() {
        $totp.innerHTML = totp.genOTP();
      }

      function startInterval() {
        setInterval(function () {
          var ttl = Math.floor(Date.now() / 1000 % 30);
          $ttl.innerHTML = 30 - ttl;
          if (ttl === 0) {
            refreshCode();
          }
        }, 1000);
      }

      function sync2NextSecond() {
        var ms2NextSecond = 1000 - (Date.now() % 1000);
        setTimeout(startInterval, ms2NextSecond);
      }

      sync2NextSecond();
      refreshCode();

    }();
  
  </script>-->
  <!--<h6></h6>
  <input id="usr" autocapitalize="off">
  </input>-->
  <h6>Secret</h6>
  <input id="input_secret" autocapitalize="off" type="password"></input>
  <br><br>
  <button id="makepsbtn">Get TOTP</button>
  <button id="copybtn">Copy</button>
  <p id="ttl">0</p>
  <h6>Your TOTP is</h6>
  <p id="out_totp">...</p>
  <br>
</body>

</html>
